/*!
 * Copyright (c) 2017 ~ present NAVER Corp.
 * billboard.js project is licensed under the MIT license
 *
 * billboard.js, JavaScript chart library
 * https://naver.github.io/billboard.js/
 *
 * @version 2.2.1-nightly-20210203012144
 * @requires billboard.js
 * @summary billboard.js plugin
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3-voronoi"),require("d3-polygon"),require("d3-selection"),require("d3-brush")):"function"==typeof define&&define.amd?define("bb",["d3-voronoi","d3-polygon","d3-selection","d3-brush"],e):"object"==typeof exports?exports.bb=e(require("d3-voronoi"),require("d3-polygon"),require("d3-selection"),require("d3-brush")):(t.bb=t.bb||{},t.bb.plugin=t.bb.plugin||{},t.bb.plugin.textoverlap=e(t.d3,t.d3,t.d3,t.d3))}(this,(function(t,e,n,o){return function(){"use strict";var r=[,function(t){t.exports=n},,,,,function(t){t.exports=o},,,function(t,e,n){function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,{default:function(){return v}});var i=n(10),c=n(11),u=n(1);n(6);var a="object"==typeof globalThis&&null!==globalThis&&globalThis.Object===Object&&globalThis||"object"==typeof global&&null!==global&&global.Object===Object&&global||"object"==typeof self&&null!==self&&self.Object===Object&&self||Function("return this")(),l=a&&a.document;var s=function(t){return void 0!==t},f=function(t){return"object"==typeof t};!function(){try{new MouseEvent("t")}catch(t){return function(t,e,n){void 0===n&&(n={bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0});var o=l.createEvent("MouseEvent");o.initMouseEvent(e,n.bubbles,n.cancelable,a,0,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.dispatchEvent(o)}}}();function b(t){var e,n,o,r=this.config,i=function(){var t=n.shift();return t&&e&&f(e)&&t in e?(e=e[t],i()):t?void 0:e};Object.keys(r).forEach((function(c){e=t,n=c.split("_"),o=i(),s(o)&&(r[c]=o)}))}var p=function(){function t(t){void 0===t&&(t={}),this.$$=void 0,this.options=void 0,this.options=t}var e=t.prototype;return e.$beforeInit=function(){},e.$init=function(){},e.$afterInit=function(){},e.$redraw=function(){},e.$willDestroy=function(){var t=this;Object.keys(this).forEach((function(e){t[e]=null,delete t[e]}))},t}();p.version="2.2.1";var d=function(){return{selector:".bb-texts text",extent:1,area:0}},v=function(t){function e(e){var n;return(n=t.call(this,e)||this).config=void 0,n.config=new d,o(n)||o(n)}var n,a;a=t,(n=e).prototype=Object.create(a.prototype),n.prototype.constructor=n,r(n,a);var l=e.prototype;return l.$init=function(){b.call(this,this.options)},l.$redraw=function(){var t=(0,u.selectAll)(this.config.selector);t.empty()||this.preventLabelOverlap(t)},l.generateVoronoi=function(t){var e=this.$$.scale,n=["x","y"].map((function(t){return e[t].domain()})),o=n[0],r=n[1],c=[r[0],o[1]];return o[1]=c[0],r[0]=c[1],(0,i.voronoi)().extent([o,r]).polygons(t)},l.preventLabelOverlap=function(t){var e=this.config,n=e.extent,o=e.area,r=this.generateVoronoi(t.data().map((function(t){return[t.x,t.value]}))),i=0;t.each((function(){var t=r[i++];if(t&&this){var e=t.data,a=e[0],l=e[1],s=(0,c.polygonCentroid)(t),f=s[0],b=s[1],p=Math.round(Math.atan2(b-l,f-a)/Math.PI*2),d=n*(0===p?1:-1),v=-1===p?-n:n+5,h=1===Math.abs(p)?"middle":0===p?"start":"end";(0,u.select)(this).attr("display",(0,c.polygonArea)(t)<o?"none":null).attr("text-anchor",h).attr("dy","0."+(1===p?71:35)+"em").attr("transform","translate("+d+", "+v+")")}}))},e}(p)},function(e){e.exports=t},function(t){t.exports=e}],i={};function c(t){if(i[t])return i[t].exports;var e=i[t]={exports:{}};return r[t](e,e.exports,c),e.exports}return c.d=function(t,e){for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c(9)}().default}));